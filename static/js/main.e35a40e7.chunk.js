(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{59:function(e,t,a){e.exports=a(89)},69:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return $}));var n=a(0),r=a.n(n),i=a(25),c=a.n(i),o=a(4),l=a(17),s=a(46),u=(a(69),a(103)),d=a(111),m=a(104),p=a(107),f=a(14),h=a(106),v=a(15),E=a.n(v),b=a(22),g=a(26),w=a.n(g),j=w.a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),O=function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.units="metric",e.appid="5ab21a7d11964ffa58b9f5966a91f6c6",t.next=4,j.get("/weather",{params:e});case 4:n=t.sent,a({type:"FETCH_WEATHER",payload:n.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=w.a.create({baseURL:"http://newsapi.org/v2"}),y=a(29),N=a(108),I=a(105),k=a(51),C=a.n(k),A=a(50),T=a.n(A),S=a(109),_=Object(u.a)((function(e){return Object(d.a)({root:{border:"1px solid #d1d1d1",borderRadius:"25px",paddingLeft:"14px"},iconButton:{padding:10}})})),L=function(e){var t=_(),a=Object(o.b)(),i=Object(n.useState)(""),c=Object(y.a)(i,2),l=c[0],s=c[1];return r.a.createElement("form",{className:t.root,onSubmit:function(t){var n;a(O({q:l})),s(""),t.preventDefault(),n=!1,e.setEditMode(n)}},r.a.createElement(S.a,{type:"text",placeholder:"Change location...",value:l,onChange:function(e){s(e.target.value)}}))},W=Object(u.a)((function(){return Object(d.a)({root:{maxWidth:"380px",margin:"0 auto",color:"#02005c"},title:{textAlign:"left",paddingBottom:"12px"},editIcon:{paddingLeft:"5px",color:"#a2a2a2",paddingTop:"7px","&:hover, &:focus":{color:"inherit"}},locationInput:{paddingBottom:"5px",display:"flex"},mainInfo:{textAlign:"left"},detailInfo:{textAlign:"center",margin:"auto"},verticallyCentered:{margin:"auto 0",textAlign:"center"},bold:{fontWeight:600}})})),B=function(){var e=W(),t=Object(o.c)((function(e){return e.weather})),a=Object(n.useState)(!1),i=Object(y.a)(a,2),c=i[0],l=i[1],s=function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement("img",{src:"".concat("https://wroclawianka.github.io/dashboard","/assets/weather_icons/").concat(t.main.icon,".svg"),width:"100px",alt:"Weather"})))},u=function(){return r.a.createElement(m.a,{className:e.verticallyCentered},r.a.createElement(I.a,{variant:"h4"},"".concat(t.main.temp," \xb0C")),r.a.createElement(I.a,{variant:"subtitle2",display:"block",gutterBottom:!0},r.a.createElement("div",null,"Feels like:"),r.a.createElement("div",null,"".concat(t.temperature.feelsLike," \xb0C"))))};return t?r.a.createElement("div",null,r.a.createElement(N.a,{className:e.root},r.a.createElement(m.a,{container:!0,spacing:0,direction:"column"},r.a.createElement(m.a,{container:!0,justify:"space-between",direction:"row"},r.a.createElement(m.a,{className:e.title},r.a.createElement(I.a,{variant:"h5"},t.main.location)),r.a.createElement(m.a,null,c?r.a.createElement("div",{className:e.locationInput},r.a.createElement(L,{setEditMode:l}),r.a.createElement(T.a,{className:e.editIcon,fontSize:"small",onClick:function(){l(!1)}})):r.a.createElement(C.a,{className:e.editIcon,fontSize:"small",onClick:function(){l(!0)}}))),r.a.createElement(m.a,{container:!0,justify:"space-evenly",direction:"row",item:!0,xs:12},r.a.createElement(m.a,{className:e.mainInfo,item:!0,xs:7},r.a.createElement(m.a,null,r.a.createElement(I.a,{variant:"subtitle1"},t.main.description)),r.a.createElement(m.a,{container:!0,justify:"center",direction:"row"},s(),u())),r.a.createElement(m.a,{className:e.detailInfo,item:!0,xs:5},r.a.createElement(I.a,{variant:"subtitle2"},r.a.createElement("div",null,"Humidity:"),r.a.createElement("div",{className:e.bold},"".concat(t.details.humidity,"%")),r.a.createElement("div",null,"Cloudiness:"),r.a.createElement("div",{className:e.bold},"".concat(t.details.cloudiness,"%")),r.a.createElement("div",null,"Wind:"),r.a.createElement("div",{className:e.bold},"".concat(t.details.wind," m/sec")))))))):r.a.createElement("div",null,"Loading weather...")},H=Object(u.a)((function(e){return Object(d.a)({paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),F=function(){var e=H(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.position}));Object(n.useEffect)((function(){return t(O(Object(f.a)({},a)))}));return r.a.createElement(m.a,{item:!0,xs:5},r.a.createElement(h.a,{className:e.paper},a?r.a.createElement(B,null):r.a.createElement("div",null,"Waiting for geolocation permission...")))},R=Object(u.a)((function(){return Object(d.a)({title:{textAlign:"left",paddingBottom:"12px"},root:{margin:"0 auto",color:"#02005c"},article:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",textAlign:"left"},link:{color:"inherit",textDecoration:"none","&:hover":{textDecoration:"underline"}},source:{color:"inherit"}})})),P=function(){var e=R(),t=Object(o.c)((function(e){return e.news})),a=function(){return r.a.createElement("div",null,"Loading...")};return r.a.createElement(N.a,{className:e.root},r.a.createElement(m.a,{container:!0,justify:"space-evenly",direction:"column"},r.a.createElement(m.a,{className:e.title},r.a.createElement(I.a,{variant:"h5"},"News")),function(){if(t&&t.articles&&t.articles.length>0)return r.a.createElement(m.a,null,t.articles.map((function(t,a){return n=t,i=a,r.a.createElement(m.a,{key:i,className:e.article},r.a.createElement("p",null,r.a.createElement("a",{href:n.url,className:e.link,target:"_blank"},function(e,t){var a=e.length<60?e.length-t.length+20:60;return e.length>a?"".concat(e.substring(0,a),"..."):e}(n.title,n.source)),r.a.createElement("span",{className:e.source}," \u2015 ".concat(n.source))));var n,i})));a()}()))},z=Object(u.a)((function(e){return Object(d.a)({paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),D=function(){var e=z(),t=Object(o.b)();return Object(n.useEffect)((function(){t(function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={country:"pl",page:0,pageSize:5,apiKey:"1afab476e7894990baec610cf83edacd"},e.next=3,x.get("/top-headlines",{params:a});case 3:n=e.sent,t({type:"FETCH_NEWS",payload:n.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement(m.a,{item:!0,xs:7},r.a.createElement(h.a,{className:e.paper},r.a.createElement(P,null)))},G=Object(u.a)((function(e){return Object(d.a)({root:{position:"absolute",height:"100%",width:"100%",backgroundColor:"#f5f5f5"},container:{marginTop:"20px",flexGrow:1}})}));function M(){var e=Object(o.c)((function(e){return e.position})),t=G(),a=Object(o.b)();return Object(n.useEffect)((function(){a(function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.navigator.geolocation.getCurrentPosition((function(e){t({type:"GET_POSITION",payload:e})}),(function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),e?r.a.createElement("div",{className:t.root},r.a.createElement(p.a,{className:t.container},r.a.createElement(m.a,{container:!0,spacing:3},r.a.createElement(F,null),r.a.createElement(D,null)))):null}function J(e){if("ok"===e.status){var t=e.articles;return t&&Array.isArray(t)?(t.forEach((function(e,t,a){var n;a[t]={title:(n=e).title,author:n.author,source:n.source?n.source.name:void 0,url:n.url}})),t):(console.error("NewsAPI: No articles send"),[])}return console.error("NewsApI: Issue to fetch articles"),[]}function U(e){return{lat:e.latitude,lon:e.longitude}}var q=a(13),K=function e(t,a,n){Object(q.a)(this,e),this.humidity=void 0,this.cloudiness=void 0,this.wind=void 0,this.humidity=t,this.cloudiness=a,this.wind=n},Q=function e(t,a,n,r){Object(q.a)(this,e),this.location=void 0,this.description=void 0,this.temp=void 0,this.icon=void 0,this.location=t,this.description=a,this.temp=parseInt(n),this.icon=r},V=function e(t,a,n){Object(q.a)(this,e),this.min=void 0,this.max=void 0,this.feelsLike=void 0,this.min=parseInt(t),this.max=parseInt(a),this.feelsLike=parseInt(n)},X=function e(t,a,n){Object(q.a)(this,e),this.main=void 0,this.temperature=void 0,this.details=void 0,this.main=t,this.temperature=a,this.details=n};function Y(e){var t,a=e.main,n=e.name,r=e.weather&&e.weather[0]?e.weather[0].main:"",i=(t=e.weather[0].id)>=200&&t<300?"200":t>=300&&t<400?"300":t>=500&&t<600?"500":t>=600&&t<700?"600":t>=700&&t<800?"700":800===t?"800":t>800?"801":"100",c=new Q(n,r,a.temp,i),o=new V(a.temp_min,a.temp_min,a.feels_like),l=new K(a.humidity,e.clouds.all,e.wind.speed);return new X(c,o,l)}var Z=Object(l.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEWS":var a=J(t.payload);return Object(f.a)({},{articles:a});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER":var a=Y(t.payload);return Object(f.a)({},a);default:return e}},position:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POSITION":var a=t.payload.coords?U(t.payload.coords):null;return Object(f.a)({},a);default:return e}}});function $(){return Object(l.d)(Z,Object(l.a)(s.a))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:$()},r.a.createElement(M,null)),","),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.e35a40e7.chunk.js.map